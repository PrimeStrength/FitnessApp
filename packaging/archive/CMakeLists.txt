set(CPACK_ARCHIVE_FILE_EXTENSION "TGZ")

add_custom_command(
  OUTPUT "${CMAKE_BINARY_DIR}/${PROJECT_NAME}-${PROJECT_VERSION}-Linux.tar.gz"
  COMMAND cpack -G TGZ
  WORKING_DIRECTORY ${CMAKE_BINARY_DIR}
  DEPENDS web ${PROJECT_NAME}
)

add_custom_target(tgz
  DEPENDS "${CMAKE_BINARY_DIR}/${PROJECT_NAME}-${PROJECT_VERSION}-Linux.tar.gz"
)
